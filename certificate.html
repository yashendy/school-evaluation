<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<title>شهادة</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:,">

<style>
  /* A4 Landscape – بدون هوامش */
  @page { size: A4 landscape; margin: 0; }
  html, body { height:100%; }
  body{
    margin:0;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-family: Tahoma, Arial, "Segoe UI", sans-serif;
    background:#f6f8fa;
  }

  /* مساحة الورقة: 297 × 210 مم */
  .sheet{
    position:relative;
    width: 297mm;
    height: 210mm;
    margin: 0 auto;
    overflow:hidden;
    background:#fff;
    box-shadow: 0 8px 24px rgba(0,0,0,.08);
  }

  /* الخلفية كصورة لضمان ظهورها في الطباعة */
  .bg{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit:cover;          /* غيّريها لـ contain لو الخلفية لها هوامش */
    z-index:0;
  }

  /* عناصر نصية فوق الخلفية */
  .overlay{ position:relative; z-index:1; width:100%; height:100%; }

  /* تموضع اسم الطالب على السطر المنقّط */
  .pos-name{
    position:absolute;
    /* 🔧 عدّلي القيم حسب صورتك لو لزم */
    top: 45%;            /* المسافة من أعلى الورقة */
    left: 5%;           /* بداية السطر */
    width: 75%;          /* طول السطر */
    text-align:center;
    font-size: 30px;
    font-weight: 700;
    color:#000;
    letter-spacing: .5px;
  }

  /* تموضع بلوك التوقيع (معلم المادة + المادة + الشهر/السنة) */
  .pos-sign{
    position:absolute;
    /* 🔧 عدّلي القيم حسب مكان “التوقيع” في الخلفية */
    top: 70%;            /* قريب من منطقة التوقيع بالصورة */
    left: 16%;
    text-align: right;   /* محاذاة يمين لتناسب كلمة "التوقيع" يمين الخط */
    font-size: 16px;
    color:#111;
    line-height: 1.6;
  }
  .pos-sign .muted{ font-size: 14px; color:#333; }

  .btns{ margin:16px auto; text-align:center }
  .btns button{ padding:10px 16px; border-radius:8px; border:1px solid #ccc; cursor:pointer; background:#f7f7f7 }

  @media print {
    body{ background:#fff; }
    .sheet{ box-shadow:none; margin:0; }
    .btns{ display:none; }
  }
</style>
</head>
<body>

  <div class="sheet">
    <!-- لو الصورة في مجلد آخر عدّلي المسار -->
    <img class="bg" src="certificate-bg.jpg" alt="خلفية الشهادة" onerror="this.style.display='none'">

    <div class="overlay">
      <!-- اسم الطالب على السطر المنقّط -->
      <div class="pos-name" id="nm">—</div>

      <!-- منطقة التوقيع: معلم المادة + المادة + الشهر/السنة -->
      <div class="pos-sign">
        <div>معلم المادة</div>
        <div class="muted">مادة التربية الإسلامية</div>
        <div class="muted" id="when">عن شهر — —</div>
      </div>
    </div>
  </div>

  <div class="btns">
    <button onclick="window.print()">🖨️ طباعة</button>
  </div>

<script>
  (function(){
    const p = new URLSearchParams(location.search);

    // اسم الطالب
    const name  = p.get('name')  || 'طالب';
    // الشهر والسنة (نفس اللي بتتبعت من صفحة المعلّم)
    const month = p.get('month') || '';
    const year  = p.get('year')  || new Date().getFullYear();

    // تعبئة
    document.getElementById('nm').textContent = name;
    document.getElementById('when').textContent =
      (month ? `عن شهر ${month} ${year}` : `عن شهر — ${year}`);

    // اطبع بعد تحميل الخلفية (أو بعد مهلة قصيرة)
    const img = document.querySelector('.bg');
    const printNow = () => setTimeout(()=>window.print(), 400);
    if (!img || img.complete) printNow();
    else {
      img.addEventListener('load', printNow);
      img.addEventListener('error', printNow);
    }
  })();
</script>
</body>
</html>







